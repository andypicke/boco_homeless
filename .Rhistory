mean(bk$transient,na.rm = TRUE)*100
bk$antihomeless <- as.logical(bk$antihomeless)
mean(bk$antihomeless)*100
bk$boulder <- as.logical(bk$boulder)
mean(bk$boulder)*100
unique(bk$`Arresting Agency`)
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=reorder(arrest_agency,n),y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency)) +
coord_flip()
bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk$year <- lubridate::year(bk$`Arrest Date`)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(month_) %>%
count() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))
bk %>%
filter(`Arrest Date`>"2000-01-01") %>%
group_by(`Arrest Date`) %>%
count() %>%
ggplot(aes(`Arrest Date`,n)) +
geom_point() +
ylim(0,60) +
geom_jitter() +
geom_smooth(method="lm")
names(bk) <- tolower(names(bk))
glimpse(bk)
names(bk) <- tolower(names(bk))
names(bk) <- gsub(' ','_',names(bk))
glimpse(bk)
bk <- read_csv('/Users/Andy/Google Drive/boco-jail/bookings-with-transient-status.csv',col_types = cols())
glimpse(bk)
names(bk) <- tolower(names(bk))
names(bk) <- gsub(' ','_',names(bk))
bk$transient <- as.logical(bk$transient)
bk$antihomeless <- as.logical(bk$antihomeless)
bk$boulder <- as.logical(bk$boulder)
glimpse(bk)
names(bk) <- tolower(names(bk))
names(bk) <- gsub(' ','_',names(bk))
bk$transient <- as.logical(bk$transient)
bk$antihomeless <- as.logical(bk$antihomeless)
bk$boulder <- as.logical(bk$boulder)
bk$arresting_agency <- as.factor(bk$arresting_agency)
glimpse(bk)
levels(bk$arresting_agency)
bk %>%
group_by(arresting_agency) %>%
count() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=reorder(arresting_agency,n),y=n))+
geom_bar(stat='identity',aes(fill=arresting_agency)) +
coord_flip()
suppressPackageStartupMessages(library(dplyr))
library(readr)
suppressPackageStartupMessages(library(lubridate))
library(ggplot2)
wea <- read_csv('/Users/Andy/Google Drive/boco-jail/downtown-boulder-weather.csv',col_types = cols())
glimpse(wea)
summary(wea)
wea$DATE <- lubridate::ymd(wea$DATE)
wea <- wea %>% select( DATE,PRCP,SNOW,TMAX,TMIN)
head(wea)
wea %>%
ggplot(aes(DATE,TMAX))+
geom_point() +
ylab('Max Temp') +
ggtitle('Downtown Boulder Weather')
wea %>%
ggplot(aes(DATE,PRCP))+
geom_point() +
ylim(0,3)
wea %>%
ggplot(aes(DATE,SNOW))+
geom_point() +
ylim(0,3)
bk <- read_csv('/Users/Andy/Google Drive/boco-jail/bookings-with-transient-status.csv',col_types = cols())
glimpse(bk)
names(bk) <- tolower(names(bk))
names(bk) <- gsub(' ','_',names(bk))
bk$transient <- as.logical(bk$transient)
bk$antihomeless <- as.logical(bk$antihomeless)
bk$boulder <- as.logical(bk$boulder)
bk$arresting_agency <- as.factor(bk$arresting_agency)
glimpse(bk)
mean(bk$transient,na.rm = TRUE)*100
mean(bk$antihomeless)*100
mean(bk$boulder)*100
levels(bk$arresting_agency)
bk %>%
group_by(arresting_agency) %>%
count() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=reorder(arresting_agency,n),y=n))+
geom_bar(stat='identity',aes(fill=arresting_agency)) +
coord_flip()
bk
glimpse(bk)
bk$arresting_agency
bk %>%
group_by(arresting_agency) %>%
count() %>%
arrange( desc(n) ) %>%
#        ggplot(aes(x=reorder(arresting_agency,n),y=n))+
#        geom_bar(stat='identity',aes(fill=arresting_agency)) +
#        coord_flip()
bk %>%
group_by(arresting_agency) %>%
count() %>%
arrange( desc(n) )
bk %>%
group_by(arresting_agency) %>%
count() %>%
#        arrange( desc(n) )
#        ggplot(aes(x=reorder(arresting_agency,n),y=n))+
#        geom_bar(stat='identity',aes(fill=arresting_agency)) +
#        coord_flip()
bk %>%
group_by(arresting_agency) %>%
count() #>%
bk %>%
group_by(arresting_agency) #%>%
#        count() #>%
#        arrange( desc(n) )
#        ggplot(aes(x=reorder(arresting_agency,n),y=n))+
#        geom_bar(stat='identity',aes(fill=arresting_agency)) +
#        coord_flip()
bk %>%
group_by(arresting_agency) %>%
count() #>%
bk %>%
group_by(arresting_agency) %>%
tally() #>%
bk <- read_csv('/Users/Andy/Google Drive/boco-jail/bookings-with-transient-status.csv',col_types = cols())
glimpse(bk)
bk$booking_time
bk$`Booking Time`
bk$booking_time
bk <- read_csv('/Users/Andy/Google Drive/boco-jail/bookings-with-transient-status.csv',col_types = cols())
glimpse(bk)
bk$booking_time
bk$`Booking Time`
bk %>% select(-`Booking Time`)
names(bk) <- tolower(names(bk))
names(bk) <- gsub(' ','_',names(bk))
bk$transient <- as.logical(bk$transient)
bk$antihomeless <- as.logical(bk$antihomeless)
bk$boulder <- as.logical(bk$boulder)
bk$arresting_agency <- as.factor(bk$arresting_agency)
glimpse(bk)
bk <- bk %>% select(-`Booking Time`)
bk <- bk %>% select(-(`Booking Time`)
names(bk) <- tolower(names(bk))
bk <- read_csv('/Users/Andy/Google Drive/boco-jail/bookings-with-transient-status.csv',col_types = cols())
glimpse(bk)
bk <- bk %>% select(-`Booking Time`)
names(bk) <- tolower(names(bk))
names(bk) <- gsub(' ','_',names(bk))
bk$transient <- as.logical(bk$transient)
bk$antihomeless <- as.logical(bk$antihomeless)
bk$boulder <- as.logical(bk$boulder)
bk$arresting_agency <- as.factor(bk$arresting_agency)
glimpse(bk)
unique(bk$location)
to_log <- function(a_col){
as.logical(a_col)
}
cols_to_log <- c('camping','boulder','urination','vehicle_as_residence','public_obstruct','public_trespass','begging','antihomeless','smoking','any_antihomless','transient')
to_log <- function(a_col){
as.logical(a_col)
}
cols_to_log <- c('camping','boulder','urination','vehicle_as_residence','public_obstruct','public_trespass','begging','antihomeless','smoking','any_antihomless','transient')
#lapply(bk[cols_to_log])
bk[cols_to_log]
to_log <- function(a_col){
as.logical(a_col)
}
cols_to_log <- c('camping','boulder','urination','vehicle_as_residence','public_obstruct','public_trespass','begging','any_antihomeless','smoking','any_antihomless','transient')
#lapply(bk[cols_to_log])
bk[cols_to_log]
to_log <- function(a_col){
as.logical(a_col)
}
cols_to_log <- c('camping','boulder','urination','vehicle_as_residence','public_obstruct','public_trespass','begging','antihomeless','smoking','any_antihomeless','transient')
#lapply(bk[cols_to_log])
bk[cols_to_log]
to_log <- function(a_col){
as.logical(a_col)
}
cols_to_log <- c('camping','boulder','urination','vehicle_as_residence','public_obstruct','public_trespass','begging','antihomeless','smoking','any_antihomeless','transient')
lapply(bk[cols_to_log])
to_log <- function(a_col){
as.logical(a_col)
}
cols_to_log <- c('camping','boulder','urination','vehicle_as_residence','public_obstruct','public_trespass','begging','antihomeless','smoking','any_antihomeless','transient')
lapply(bk[cols_to_log],cols_to_log)
to_log <- function(a_col){
as.logical(a_col)
}
cols_to_log <- c('camping','boulder','urination','vehicle_as_residence','public_obstruct','public_trespass','begging','antihomeless','smoking','any_antihomeless','transient')
lapply(bk[cols_to_log],to_log)
#bk[cols_to_log] <- cols
bk <- read_csv('/Users/Andy/Google Drive/boco-jail/bookings-with-transient-status.csv',col_types = cols())
glimpse(bk)
bk <- bk %>% select(-`Booking Time`)
names(bk) <- tolower(names(bk))
names(bk) <- gsub(' ','_',names(bk))
to_log <- function(a_col){
as.logical(a_col)
}
cols_to_log <- c('camping','boulder','urination','vehicle_as_residence','public_obstruct','public_trespass','begging','antihomeless','smoking','any_antihomless','transient')
#bk$transient <- as.logical(bk$transient)
#bk$antihomeless <- as.logical(bk$antihomeless)
#bk$boulder <- as.logical(bk$boulder)
bk$arresting_agency <- as.factor(bk$arresting_agency)
glimpse(bk)
to_log <- function(a_col){
as.logical(a_col)
}
cols_to_log <- c('camping','boulder','urination','vehicle_as_residence','public_obstruct','public_trespass','begging','antihomeless','smoking','any_antihomeless','transient')
bk[cols_to_log] <- lapply(bk[cols_to_log],to_log)
glimpse(bk)
bk$boulder
sum(bk$boulder)
bk <- bk %>% select(-`Booking Time`)
bk <- read_csv('/Users/Andy/Google Drive/boco-jail/bookings-with-transient-status.csv',col_types = cols())
glimpse(bk)
sum(bk$boulder=='True')
bk <- bk %>% select(-`Booking Time`)
names(bk) <- tolower(names(bk))
names(bk) <- gsub(' ','_',names(bk))
bk$arresting_agency <- as.factor(bk$arresting_agency)
to_log <- function(a_col){
as.logical(a_col)
}
cols_to_log <- c('camping','boulder','urination','vehicle_as_residence','public_obstruct','public_trespass','begging','antihomeless','smoking','any_antihomeless','transient')
bk[cols_to_log] <- lapply(bk[cols_to_log],to_log)
glimpse(bk)
mean(bk$transient,na.rm = TRUE)*100
mean(bk$antihomeless)*100
levels(bk$arresting_agency)
bk %>%
group_by(arresting_agency) %>%
tally() #>%
#        arrange( desc(n) )
#        ggplot(aes(x=reorder(arresting_agency,n),y=n))+
#        geom_bar(stat='identity',aes(fill=arresting_agency)) +
#        coord_flip()
bk %>%
group_by(arresting_agency) %>%
tally() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=reorder(arresting_agency,n),y=n))+
geom_bar(stat='identity',aes(fill=arresting_agency)) +
coord_flip()
bk$month_ <- lubridate::month(bk$arrest_date,label=TRUE)
bk$year <- lubridate::year(bk$arrest_date)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(month_) %>%
count() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))
bk$month_ <- lubridate::month(bk$arrest_date,label=TRUE)
bk$year <- lubridate::year(bk$arrest_date)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(month_) %>%
count() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))+
facet_wrap(year)
bk$month_ <- lubridate::month(bk$arrest_date,label=TRUE)
bk$year <- lubridate::year(bk$arrest_date)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(month_) %>%
count() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))+
facet_wrap('year')
bk$month_ <- lubridate::month(bk$arrest_date,label=TRUE)
bk$year <- lubridate::year(bk$arrest_date)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(month_) %>%
count() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))+
facet_wrap(bk$year)
bk$month_ <- lubridate::month(bk$arrest_date,label=TRUE)
bk$year <- lubridate::year(bk$arrest_date)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(month_) %>%
count() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))+
facet_wrap(~year)
bk$month_ <- lubridate::month(bk$arrest_date,label=TRUE)
bk$year <- lubridate::year(bk$arrest_date)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(month_) %>%
tally() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))+
facet_wrap(~year)
bk$month_ <- lubridate::month(bk$arrest_date,label=TRUE)
bk$year <- lubridate::year(bk$arrest_date)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(month_) %>%
tally() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))
#        facet_wrap(~year)
bk$month_ <- lubridate::month(bk$arrest_date,label=TRUE)
bk$year <- lubridate::year(bk$arrest_date)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(year,month_) %>%
tally() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))
#        facet_wrap(~year)
bk$atbk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(year,month_) %>%
tally()
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(year,month_) %>%
tally()
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(year,month_) %>%
tally() %>% View()
bk$month_ <- lubridate::month(bk$arrest_date,label=TRUE)
bk$year <- lubridate::year(bk$arrest_date)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(year,month_) %>%
tally() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))
facet_wrap(~year)
bk$month_ <- lubridate::month(bk$arrest_date,label=TRUE)
bk$year <- lubridate::year(bk$arrest_date)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(year,month_) %>%
tally() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_)) +
facet_wrap(~year)
bk %>%
filter(arrest_date>"2000-01-01") %>%
group_by(arrest_date) %>%
tally() %>%
ggplot(aes(arrest_date,n)) +
geom_point() +
ylim(0,60) +
geom_jitter() +
geom_smooth(method="lm")
bk %>%
filter(arrest_date>"2000-01-01") %>%
group_by(arrest_date) %>%
tally() %>%
ggplot(aes(arrest_date,n)) +
geom_point(alpha=0.1) +
ylim(0,60) +
geom_jitter() +
geom_smooth(method="lm")
bk %>%
filter(arrest_date>"2000-01-01") %>%
group_by(arrest_date) %>%
tally() %>%
ggplot(aes(arrest_date,n)) +
geom_point(aes(alpha=0.1)) +
ylim(0,60) +
geom_jitter() +
geom_smooth(method="lm")
bk %>%
filter(arrest_date>"2000-01-01") %>%
group_by(arrest_date) %>%
tally() %>%
ggplot(aes(arrest_date,n)) +
geom_point(aes(alpha=0.1)) +
ylim(0,60) +
geom_smooth(method="lm")
bk %>%
filter(arrest_date>"2000-01-01") %>%
group_by(arrest_date) %>%
tally() %>%
ggplot(aes(arrest_date,n)) +
geom_point(alpha=0.01) +
ylim(0,60) +
geom_smooth(method="lm")
bk %>%
filter(arrest_date>"2000-01-01") %>%
group_by(arrest_date) %>%
tally() %>%
ggplot(aes(arrest_date,n)) +
geom_point(alpha=0.05) +
ylim(0,60) +
geom_smooth(method="lm")
bk %>%
filter(arrest_date>"2000-01-01") %>%
group_by(arrest_date) %>%
tally() %>%
ggplot(aes(arrest_date,n)) +
geom_point(alpha=0.01) +
ylim(0,60) +
geom_smooth(method="lm")
bk %>%
filter(arrest_date>"2000-01-01") %>%
group_by(arrest_date) %>%
tally() %>%
ggplot(aes(arrest_date,n)) +
geom_point(alpha=0.1) +
ylim(0,60) +
geom_smooth(method="lm")
bk %>%
filter(arrest_date>"2000-01-01") %>%
group_by(arrest_date) %>%
tally() %>%
ggplot(aes(arrest_date,n)) +
geom_point(alpha=0.2) +
ylim(0,60) +
geom_smooth(method="lm")
suppressPackageStartupMessages(library(dplyr))
library(readr)
suppressPackageStartupMessages(library(lubridate))
library(ggplot2)
wea <- read_csv('/Users/Andy/Google Drive/boco-jail/downtown-boulder-weather.csv',col_types = cols())
glimpse(wea)
summary(wea)
wea$DATE <- lubridate::ymd(wea$DATE)
wea <- wea %>% select( DATE,PRCP,SNOW,TMAX,TMIN)
head(wea)
wea %>%
ggplot(aes(DATE,TMAX))+
geom_point() +
ylab('Max Temp') +
ggtitle('Downtown Boulder Weather')
wea %>%
ggplot(aes(DATE,PRCP))+
geom_point() +
ylim(0,3)
wea %>%
ggplot(aes(DATE,SNOW))+
geom_point() +
ylim(0,3)
bk <- read_csv('/Users/Andy/Google Drive/boco-jail/bookings-with-transient-status.csv',col_types = cols())
glimpse(bk)
bk <- bk %>% select(-`Booking Time`)
names(bk) <- tolower(names(bk))
names(bk) <- gsub(' ','_',names(bk))
bk$arresting_agency <- as.factor(bk$arresting_agency)
to_log <- function(a_col){
as.logical(a_col)
}
cols_to_log <- c('camping','boulder','urination','vehicle_as_residence','public_obstruct','public_trespass','begging','antihomeless','smoking','any_antihomeless','transient')
bk[cols_to_log] <- lapply(bk[cols_to_log],to_log)
glimpse(bk)
mean(bk$transient,na.rm = TRUE)*100
mean(bk$antihomeless)*100
mean(bk$boulder)*100
levels(bk$arresting_agency)
bk %>%
group_by(arresting_agency) %>%
tally() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=reorder(arresting_agency,n),y=n))+
geom_bar(stat='identity',aes(fill=arresting_agency)) +
coord_flip()
bk$month_ <- lubridate::month(bk$arrest_date,label=TRUE)
bk$year <- lubridate::year(bk$arrest_date)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(year,month_) %>%
tally() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_)) +
facet_wrap(~year)
bk %>%
filter(arrest_date>"2000-01-01") %>%
group_by(arrest_date) %>%
tally() %>%
ggplot(aes(arrest_date,n)) +
geom_point(alpha=0.2) +
ylim(0,60) +
geom_smooth(method="lm")
