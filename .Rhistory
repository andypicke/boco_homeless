geom_point()
wea %>%
ggplot(aes(DATE,PRCP))+
geom_point()
wea %>%
ggplot(aes(DATE,PRCP))+
geom_point() +
ylim(0.3)
wea %>%
ggplot(aes(DATE,PRCP))+
geom_point() +
ylim(0,3)
wea %>%
ggplot(aes(DATE,TMAX))+
geom_point() +
ylab('Max Temp')
wea %>%
ggplot(aes(DATE,TMAX))+
geom_point() +
ylab('Max Temp') +
ggtitle('Downtown Boulder Weather')
suppressPackageStartupMessages(library(dplyr))
library(readr)
suppressPackageStartupMessages(library(lubridate))
library(ggplot2)
wea <- read_csv('/Users/Andy/Google Drive/boco-jail/downtown-boulder-weather.csv')
glimpse(wea)
wea$DATE <- lubridate::ymd(wea$DATE)
head(wea)
wea %>%
ggplot(aes(DATE,TMAX))+
geom_point() +
ylab('Max Temp') +
ggtitle('Downtown Boulder Weather')
wea %>%
ggplot(aes(DATE,PRCP))+
geom_point() +
ylim(0,3)
bk <- read_csv('/Users/Andy/Google Drive/boco-jail/bookings-with-transient-status.csv')
glimpse(bk)
str(bk)
ymd_hms(bk$Booked)
bk$Booked<-ymd_hms(bk$Booked)
str(bk)
bk %>%
group_by(`Arrest Date`) %>%
count()
bk %>%
group_by(`Arrest Date`) %>%
count() %>%
ggplot(aes(`Arrest Date`,n)) +
geom_point()
bk %>%
group_by(`Arrest Date`) %>%
count() %>%
ggplot(aes(`Arrest Date`,n)) +
geom_point() +
ylim(0,100)
bk %>%
group_by(`Arrest Date`) %>%
count() %>%
ggplot(aes(`Arrest Date`,n)) +
geom_point() +
ylim(0,100) +
xlim('2000','2017')
bk %>%
group_by(`Arrest Date`) %>%
count() %>%
ggplot(aes(`Arrest Date`,n)) +
geom_point() +
ylim(0,100) +
xlim('2000-1-1','2017-1-1')
bk %>%
fitler(`Arrest Date`>"2000-01-01") %>%
group_by(`Arrest Date`) %>%
count() %>%
ggplot(aes(`Arrest Date`,n)) +
geom_point() +
ylim(0,100) +
xlim('2000-1-1','2017-1-1')
bk %>%
filter(`Arrest Date`>"2000-01-01") %>%
group_by(`Arrest Date`) %>%
count() %>%
ggplot(aes(`Arrest Date`,n)) +
geom_point() +
ylim(0,100) +
xlim('2000-1-1','2017-1-1')
bk %>%
filter(`Arrest Date`>"2000-01-01") %>%
group_by(`Arrest Date`) %>%
count() %>%
ggplot(aes(`Arrest Date`,n)) +
geom_point() +
ylim(0,100)
bk %>%
filter(`Arrest Date`>"2000-01-01") %>%
group_by(`Arrest Date`) %>%
count() %>%
ggplot(aes(`Arrest Date`,n)) +
geom_point() +
ylim(0,100) +
geom_jitter()
bk %>%
filter(`Arrest Date`>"2000-01-01") %>%
group_by(`Arrest Date`) %>%
count() %>%
ggplot(aes(`Arrest Date`,n)) +
geom_point() +
ylim(0,60) +
geom_jitter()
bk %>%
filter(`Arrest Date`>"2000-01-01") %>%
group_by(`Arrest Date`) %>%
count() %>%
ggplot(aes(`Arrest Date`,n)) +
geom_point() +
ylim(0,60) +
geom_jitter() +
geom_smooth()
bk %>%
filter(`Arrest Date`>"2000-01-01") %>%
group_by(`Arrest Date`) %>%
count() %>%
ggplot(aes(`Arrest Date`,n)) +
geom_point() +
ylim(0,60) +
geom_jitter() +
geom_smooth(method="lm")
bk$month <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk$month <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk <- group_by(month) %>%
count() %>%
ggplot(aes(month,n))
bk$month <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk <- group_by(month) %>%
count() %>%
ggplot(aes(month,n))+
geom_point()
bk$month <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk <- group_by(month) %>%
count() #%>%
bk$month
bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk <- group_by(month_) %>%
count() #%>%
bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
#bk <- group_by(month_) %>%
count() #%>%
bk <- read_csv('/Users/Andy/Google Drive/boco-jail/bookings-with-transient-status.csv')
glimpse(bk)
bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
#bk <- group_by(month_) %>%
#        count() #%>%
#ggplot(aes(month,n))+
#geom_point()
bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk <- group_by(month_) %>%
count() #%>%
head(bk)
glimpse(bk)
bk$month_
#bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk <- group_by(month_) %>%
count() #%>%
#bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk <- group_by(month_)# %>%
bk
bk$month_
#bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk %>% group_by(month_) %>%
count() #%>%
#ggplot(aes(month,n))+
#geom_point()
#bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk %>% group_by(month_) %>%
count() %>%
ggplot(aes(month,n))+
geom_point()
#bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk %>% group_by(month_) %>%
count() %>%
ggplot(aes(month_,n))+
geom_point()
#bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk %>% group_by(month_) %>%
count() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity')
#bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk %>% group_by(month_) %>%
count() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))
bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk$year <- lubridate::year(bk$`Arrest Date`)
bk %>%
filter(year==2015) %>%
group_by(month_) %>%
count() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))
bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk$year <- lubridate::year(bk$`Arrest Date`)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015) %>%
group_by(month_) %>%
count() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))
bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk$year <- lubridate::year(bk$`Arrest Date`)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(month_) %>%
count() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))
suppressPackageStartupMessages(library(dplyr))
library(readr)
suppressPackageStartupMessages(library(lubridate))
library(ggplot2)
wea <- read_csv('/Users/Andy/Google Drive/boco-jail/downtown-boulder-weather.csv')
glimpse(wea)
wea$DATE <- lubridate::ymd(wea$DATE)
head(wea)
wea %>%
ggplot(aes(DATE,TMAX))+
geom_point() +
ylab('Max Temp') +
ggtitle('Downtown Boulder Weather')
wea %>%
ggplot(aes(DATE,PRCP))+
geom_point() +
ylim(0,3)
bk <- read_csv('/Users/Andy/Google Drive/boco-jail/bookings-with-transient-status.csv')
glimpse(bk)
bk$month_ <- lubridate::month(bk$`Arrest Date`,label=TRUE)
bk$year <- lubridate::year(bk$`Arrest Date`)
bk %>%
filter(year %in% c(2011,2012,2013,2015,2015)) %>%
group_by(month_) %>%
count() %>%
ggplot(aes(month_,n))+
geom_point() +
geom_bar(stat='identity',aes(fill=month_))
bk %>%
filter(`Arrest Date`>"2000-01-01") %>%
group_by(`Arrest Date`) %>%
count() %>%
ggplot(aes(`Arrest Date`,n)) +
geom_point() +
ylim(0,60) +
geom_jitter() +
geom_smooth(method="lm")
suppressPackageStartupMessages(library(dplyr))
library(readr)
suppressPackageStartupMessages(library(lubridate))
library(ggplot2)
wea <- read_csv('/Users/Andy/Google Drive/boco-jail/downtown-boulder-weather.csv')
glimpse(wea)
wea$DATE <- lubridate::ymd(wea$DATE)
head(wea)
bk <- read_csv('/Users/Andy/Google Drive/boco-jail/bookings-with-transient-status.csv')
glimpse(bk)
mean(bk$transient)
mean(bk$transient,na.rm = TRUE)
mean(bk$transient,na.rm = TRUE)
bk$transient = as.factor(bk$transient)
mean(bk$transient,na.rm = TRUE)
bk$transient
#bk$transient = as.factor(bk$transient)
mean(bk$transient,na.rm = TRUE)
bk$transient = as.logical(bk$transient)
mean(bk$transient,na.rm = TRUE)
bk$antihomeless <- as.logical(bk$antihomeless)
mena(bk$antihomeless)
bk$antihomeless <- as.logical(bk$antihomeless)
mean(bk$antihomeless)
bk$antihomeless <- as.logical(bk$antihomeless)
mean(bk$antihomeless)
bk$boulder <- as.logical(bk$boulder)
mean(bk$boulder)
bk$`Arresting Agency`
nrow(bk$`Arresting Agency`)
len(bk$`Arresting Agency`)
lengthg(bk$`Arresting Agency`)
length(bk$`Arresting Agency`)
length(bk$`Arresting Agency`)
length(unique(bk$`Arresting Agency`))
#length(bk$`Arresting Agency`)
length(unique(bk$`Arresting Agency`))
unique(bk$`Arresting Agency`))
unique(bk$`Arresting Agency`)
bk %>% group_by(`Arresting Agency`) %>%
count()
bk %>% group_by(`Arresting Agency`) %>%
count() %>%
arrange( desc(n) )
bk %>% group_by(`Arresting Agency`) %>%
count() %>%
arrange( desc(n) ) +
ggplot()+
geom_bar()
bk %>% group_by(`Arresting Agency`) %>%
count() %>%
arrange( desc(n) ) +
ggplot(aes(x=`Arresting Agency`,y=n))+
geom_bar()
bk %>% group_by(`Arresting Agency`) %>%
count() %>%
arrange( desc(n) ) #+
#        ggplot(aes(x=`Arresting Agency`,y=n))+
#        geom_bar()
bk %>% group_by(`Arresting Agency`) %>%
count() %>%
arrange( desc(n) ) #+
ggplot(aes(x=Arresting Agency,y=n))+
bk %>% group_by(`Arresting Agency`) %>%
count() %>%
arrange( desc(n) ) #+
ggplot(aes(x=Arresting Agency,y=n))+
bk %>% group_by(`Arresting Agency`) %>%
count() %>%
arrange( desc(n) ) #+
ggplot(aes(x=`Arresting Agency`,y=n))+
geom_bar(stat='identity')
bk %>% rename(arrest_agency=`Arresting Agency`)
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) #+
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) #+
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity')
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) +
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity')
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) +#
#        ggplot(aes(x=arrest_agency,y=n))+
#        geom_bar(stat='identity')
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity')
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(color=arrest_agency))
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency))
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency)) +
coord_flip()
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count(sort=TRUE) %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency)) +
coord_flip()
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
tidytext::count(sort=TRUE) %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency)) +
coord_flip()
?count
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count(sort=TRUE) %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency)) +
coord_flip()
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count(sort=TRUE) %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency)) +
coord_flip()
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count(sort=TRUE) %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency,order = rev(n))) +
coord_flip()
?geom_bar
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count(sort=TRUE) %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency) +
coord_flip()
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count(sort=TRUE) %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency)) +
coord_flip()
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count(sort=TRUE) %>%
arrange( desc(n) )# %>%
#        ggplot(aes(x=arrest_agency,y=n))+
#        geom_bar(stat='identity',aes(fill=arrest_agency)) +
#        coord_flip()
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count(sort=TRUE) %>%
arrange( desc(n) )# %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency)) +
#        coord_flip()
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count(sort=TRUE) %>%
arrange( desc(n) )# %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency))
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count(sort=TRUE) %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency))
#        coord_flip()
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency))
#        coord_flip()
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=fct_infreq(n))+
geom_bar(stat='identity',aes(fill=arrest_agency))
#        coord_flip()
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=fct_infreq(n)))+
geom_bar(stat='identity',aes(fill=arrest_agency))
library(forcats)
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=arrest_agency,y=fct_infreq(n)))+
geom_bar(stat='identity',aes(fill=arrest_agency))
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=reorder(arrest_agency,n),y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency))
#        coord_flip()
bk$`Arresting Agency` <- as.factor(bk$`Arresting Agency`)
bk %>% rename(arrest_agency=`Arresting Agency`) %>%
group_by(arrest_agency) %>%
count() %>%
arrange( desc(n) ) %>%
ggplot(aes(x=reorder(arrest_agency,n),y=n))+
geom_bar(stat='identity',aes(fill=arrest_agency)) +
coord_flip()
